<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>لقمان أبو صليح | طلب وتوصيل</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar__brand">
      <div class="logo">ل</div>
      <div>
        <div class="brand__name" id="restName">لقمان أبو صليح</div>
        <div class="brand__sub" id="restSub">الأردن • عمّان</div>
      </div>
    </div>

    <div class="topbar__actions">
      <span class="badge" id="openBadge">—</span>

      <button class="icon-btn" id="btnOpenCart" type="button" aria-label="السلة">
        <i class="fa-solid fa-bag-shopping"></i>
        <span class="count" id="cartCount">0</span>
      </button>

      <a class="icon-btn" id="adminLink" href="admin.html" aria-label="لوحة التحكم" title="لوحة التحكم">
        <i class="fa-solid fa-user-gear"></i>
      </a>
    </div>
  </header>

  <main class="container">
    <section class="hero card">
      <div class="hero__text">
        <h1>اطلب بسرعة — توصيل داخل عمّان</h1>
        <p class="muted" id="heroInfo">
          منيو مطعم لقمان أبو صليح. اختر وجبتك، حدّد موقعك، وأكّد الطلب.
        </p>

        <div class="hero__meta">
          <div class="mini">
            <div class="mini__label">أجرة التوصيل</div>
            <div class="mini__value" id="deliveryFee">—</div>
          </div>
          <div class="mini">
            <div class="mini__label">الحد الأدنى</div>
            <div class="mini__value" id="minOrder">—</div>
          </div>
          <div class="mini">
            <div class="mini__label">أوقات العمل</div>
            <div class="mini__value" id="workingHours">—</div>
          </div>
        </div>
      </div>

      <div class="hero__art">
        <img alt="food" src="https://images.unsplash.com/photo-1550547660-d9450f859349?w=1400&q=80" />
      </div>
    </section>

    <section class="section card">
      <div class="section__head">
        <h2>المنيو</h2>

        <div class="search">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="menuSearch" class="input" placeholder="ابحث عن صنف..." />
        </div>
      </div>

      <div class="chips" id="catChips"></div>

      <div class="grid" id="menuGrid"></div>
    </section>

    <section class="section card">
      <div class="section__head">
        <h2>تحديد الموقع</h2>
        <div class="muted">حدد موقعك على الخريطة (نموذج تجريبي).</div>
      </div>

      <div class="map-wrap">
        <div id="map" class="map"></div>
        <div class="map-actions">
          <button class="btn btn-secondary" id="btnGeo" type="button">
            <i class="fa-solid fa-location-crosshairs"></i>
            تحديد موقعي
          </button>
          <div class="muted small" id="locText">—</div>
        </div>
      </div>

      <div class="form">
        <div class="field">
          <label class="label">الاسم (اختياري)</label>
          <input id="custName" class="input" placeholder="اسمك" />
        </div>
        <div class="field">
          <label class="label">رقم الهاتف</label>
          <input id="custPhone" class="input" placeholder="07XXXXXXXX" inputmode="tel" />
        </div>
        <div class="field">
          <label class="label">العنوان النصي (اختياري)</label>
          <input id="custAddress" class="input" placeholder="مثال: الجاردنز - شارع ..." />
        </div>
        <div class="field">
          <label class="label">ملاحظات (اختياري)</label>
          <textarea id="custNotes" class="textarea" placeholder="بدون بصل / زيادة ثوم ..."></textarea>
        </div>
      </div>

      <div class="checkout">
        <div class="pay">
          <div class="label">طريقة الدفع</div>
          <div class="radio-row">
            <label class="radio">
              <input type="radio" name="pay" value="CASH" checked />
              كاش عند الاستلام
            </label>
            <label class="radio disabled" title="غير مفعلة في النموذج">
              <input type="radio" name="pay" value="ONLINE" disabled />
              دفع إلكتروني (لاحقًا)
            </label>
          </div>
        </div>

        <div class="summary">
          <div class="sum-row"><span>المجموع</span><strong id="sumSub">—</strong></div>
          <div class="sum-row"><span>التوصيل</span><strong id="sumDel">—</strong></div>
          <div class="sum-row total"><span>الإجمالي</span><strong id="sumTotal">—</strong></div>

          <button class="btn btn-primary" id="btnPlaceOrder" type="button">
            <i class="fa-solid fa-check"></i>
            تأكيد الطلب
          </button>

          <div class="muted small" id="checkoutHint"></div>
        </div>
      </div>
    </section>

    <section class="section card">
      <div class="section__head">
        <h2>تتبع آخر طلب</h2>
        <div class="muted">النموذج يعرض التتبع على نفس الجهاز/المتصفح.</div>
      </div>
      <div id="lastOrderBox" class="track"></div>
    </section>

    <footer class="footer">
      <div class="muted small">© لقمان أبو صليح — نموذج طلب وتوصيل</div>
    </footer>
  </main>

  <!-- Cart Drawer -->
  <aside class="drawer" id="cartDrawer" aria-hidden="true">
    <div class="drawer__overlay" id="cartOverlay"></div>
    <div class="drawer__panel">
      <div class="drawer__head">
        <div class="drawer__title">
          <i class="fa-solid fa-bag-shopping"></i>
          السلة
        </div>
        <button class="icon-btn" id="btnCloseCart" type="button" aria-label="إغلاق">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <div id="cartList" class="cart"></div>

      <div class="drawer__foot">
        <div class="sum-row"><span>المجموع</span><strong id="cartSub">—</strong></div>
        <button class="btn btn-secondary" id="btnClearCart" type="button">
          <i class="fa-solid fa-trash"></i>
          تفريغ السلة
        </button>
        <button class="btn btn-primary" id="btnGoCheckout" type="button">
          <i class="fa-solid fa-arrow-down"></i>
          إكمال الطلب
        </button>
      </div>
    </div>
  </aside>

  <div id="toast" class="toast hidden"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
          crossorigin=""></script>

  <script src="data.js"></script>
  <script src="storage.js"></script>
  <script src="app.js"></script>
</body>
            </html>
